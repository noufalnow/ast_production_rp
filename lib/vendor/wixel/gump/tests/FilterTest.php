<?php
/*   __________________________________________________
    |  ##CreativeSol Management Information System##   |
    |__________________________________________________|
*/
 namespace WfDg1; use fnceI; use Exception; class FilterTest extends BaseTestCase { public function testGumpFilterIsSuccessfullyApplied() { $mncio = $this->gump->filter(["\x74\145\x73\x74" => "\164\x65\170\x74"], ["\x74\145\163\x74" => "\x75\x70\160\x65\162\x5f\143\141\163\145"]); $this->assertEquals(["\164\145\163\164" => "\x54\x45\130\x54"], $mncio); } public function testMoreThanOneFiltersAreSuccessfullyApplied() { goto fA0QJ; Jnubx: $this->assertEquals(["\164\145\x73\x74" => "\164\x65\x78\x74"], $mncio); goto iAmRk; KYFgb: $mncio = $this->gump->filter(["\x74\145\163\x74" => "\40\164\x65\x78\x74\40"], ["\x74\x65\x73\x74" => "\x74\162\x69\x6d\x7c\165\x70\x70\x65\162\137\x63\x61\163\x65\x7c\143\x75\x73\164\x6f\x6d"]); goto Jnubx; fA0QJ: GUMP::add_filter("\143\165\163\x74\157\x6d", function ($VHpfx, array $QTxIX = []) { return strtolower($VHpfx); }); goto KYFgb; iAmRk: } public function testPHPNativeFilterIsSuccessfullyApplied() { $mncio = $this->gump->filter(["\164\x65\163\x74" => "\x54\105\x58\124"], ["\164\x65\163\x74" => "\x73\164\162\164\157\154\x6f\x77\x65\x72"]); $this->assertEquals(["\x74\x65\163\x74" => "\164\x65\x78\x74"], $mncio); } public function testCustomFilterIsSuccessfullyApplied() { goto dvfo2; gAvaY: $mncio = $this->gump->filter(["\x74\x65\x73\164" => "\164\x65\x78\164"], ["\x74\145\x73\164" => "\143\x75\x73\x74\x6f\155"]); goto PVi8W; dvfo2: GUMP::add_filter("\143\x75\163\x74\157\155", function ($VHpfx, array $QTxIX = []) { return strtoupper($VHpfx); }); goto gAvaY; PVi8W: $this->assertEquals(["\x74\x65\163\164" => "\x54\x45\130\x54"], $mncio); goto MM1du; MM1du: } public function testNonexistentFilterThrowsException() { goto MAkrP; MAkrP: $this->expectException(Exception::class); goto NDygw; NDygw: $this->expectExceptionMessage("\47\143\x75\163\164\x6f\155\47\40\146\151\154\x74\145\162\40\x64\x6f\x65\x73\x20\156\x6f\x74\x20\145\170\151\x73\164\56"); goto fLlFt; fLlFt: $this->gump->filter(["\x74\x65\x73\x74" => "\164\145\170\164"], ["\164\145\163\164" => "\x63\x75\163\164\157\x6d"]); goto R9IQl; R9IQl: } public function testWhenApplyingFilterToUnknownFieldContinuesWithNextField() { $mncio = $this->gump->filter(["\x74\x65\163\164" => "\164\x65\170\164", "\157\x74\x68\145\x72" => "\x74\145\170\164"], ["\x6e\x6f\x6e\137\x65\x78\151\163\164\145\156\x74" => "\x75\x70\x70\x65\162\137\143\x61\x73\145", "\157\x74\x68\x65\162" => "\x75\160\160\145\x72\x5f\x63\141\163\145"]); $this->assertEquals(["\164\145\163\x74" => "\x74\145\x78\164", "\157\164\x68\145\x72" => "\124\x45\130\x54"], $mncio); } public function testRulesArrayFormatWithSimpleArrayParameters() { goto olAc9; OJpzO: $this->assertEquals(["\x66\151\145\154\144\x5f\157\x6e\145" => "\x54\x45\123\124\123", "\146\151\x65\154\144\137\164\x77\x6f" => "\x63\x75\x73\x74\x6f\x6d"], $mncio); goto V9HRk; vfhfH: $mncio = $this->gump->filter(["\146\151\x65\x6c\x64\137\157\x6e\x65" => "\x74\145\x73\x74\x73", "\x66\x69\x65\x6c\144\x5f\x74\167\x6f" => "\40\x43\125\123\x54\x4f\115\x20"], ["\146\151\145\154\x64\x5f\x6f\156\x65" => "\x75\160\x70\x65\162\x5f\x63\141\163\145", "\146\151\145\x6c\x64\137\x74\x77\157" => ["\x74\162\151\x6d", "\143\x75\163\164\x6f\x6d" => "\x73\164\x72\x74\157\154\157\x77\x65\162"]]); goto OJpzO; olAc9: GUMP::add_filter("\143\165\x73\164\157\155", function ($VHpfx, array $zoRSp) { return call_user_func($zoRSp[0], $VHpfx); }); goto vfhfH; V9HRk: } public function testItForwardsParametersToNativePHPFunctions() { $mncio = $this->gump->filter(["\146\x69\145\154\144" => "\155\171\x5f\x70\141\163\163\167\x6f\162\144"], ["\146\151\x65\x6c\144" => ["\160\141\163\163\x77\157\162\144\137\150\x61\x73\150" => [PASSWORD_BCRYPT]]]); $this->assertTrue(password_verify("\155\171\137\160\141\x73\163\167\157\162\x64", $mncio["\146\151\x65\154\x64"])); } }
