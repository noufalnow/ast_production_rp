<?php
/*   __________________________________________________
    |  ##CreativeSol Management Information System##   |
    |__________________________________________________|
*/
 namespace WFdG1; use fNCei; use Exception; class ValidateTest extends BaseTestCase { public function testConfigParameters() { goto G_ecP; kGeVQ: $eJ0nI = GUMP::$rules_parameters_delimiter; goto T5vSd; LxUva: GUMP::$rules_parameters_delimiter = $eJ0nI; goto DXwda; CLMeg: GUMP::$rules_delimiter = "\73"; goto a2W4U; uRR94: GUMP::$rules_parameters_arrays_delimiter = "\x2c"; goto A2KpT; T5vSd: $SKj2Y = GUMP::$rules_parameters_arrays_delimiter; goto CLMeg; Q93Dt: GUMP::$rules_delimiter = $zk83h; goto LxUva; G_ecP: $zk83h = GUMP::$rules_delimiter; goto kGeVQ; a2W4U: GUMP::$rules_parameters_delimiter = "\72"; goto uRR94; DXwda: GUMP::$rules_parameters_arrays_delimiter = $SKj2Y; goto xyvRw; Ie_EK: $this->assertTrue($mncio); goto Q93Dt; A2KpT: $mncio = $this->gump->validate(["\x73\x6f\155\x65\x5f\x66\151\x65\x6c\144" => "\x6e\x6f"], ["\x73\157\155\145\137\146\151\x65\154\144" => "\x61\x6c\160\x68\x61\x3b\x63\157\156\x74\141\151\x6e\163\x5f\x6c\x69\x73\x74\72\171\x65\x73\x2c\156\x6f"]); goto Ie_EK; xyvRw: } public function testIntegratedValidatorReturnsOneErrorOnOneFailure() { $mncio = $this->gump->validate(["\164\145\x73\x74" => "\164\145\x78\164"], ["\x74\x65\163\x74" => "\x6e\165\155\145\x72\x69\143"]); $this->assertTrue(count($mncio) === 1); } public function testCustomValidatorReturnsOneErrorOnOneFailure() { goto uzIe8; dxPj4: $this->assertTrue(count($mncio) === 1); goto fFqKh; uzIe8: GUMP::add_validator("\x63\x75\x73\164\x6f\x6d\62", function ($XrxK4, $NGWVv, array $QTxIX = []) { return $NGWVv[$XrxK4] === "\157\x6b"; }, "\x4d\171\40\x63\x75\x73\164\x6f\x6d\x20\x65\x72\x72\157\162"); goto Jlm1v; Jlm1v: $mncio = $this->gump->validate(["\x74\145\163\164" => "\156\157\164\x4f\x6b"], ["\x74\x65\163\x74" => "\x63\165\163\164\157\155\x32"]); goto dxPj4; fFqKh: } public function testIntegratedValidatorWithIntegratedValidatorReturnsOneErrorOnTwoFailures() { $mncio = $this->gump->validate(["\164\x65\x73\x74" => "\164\x65\170\164"], ["\164\x65\x73\164" => "\156\165\x6d\145\162\x69\143\174\156\x75\155\145\x72\151\x63"]); $this->assertTrue(count($mncio) === 1); } public function testCustomValidatorWithIntegratedValidatorReturnsOneErrorOnTwoFailures() { goto gewGG; gewGG: GUMP::add_validator("\x63\x75\163\x74\x6f\155\63", function ($XrxK4, $NGWVv, array $QTxIX = []) { return $NGWVv[$XrxK4] === "\157\x6b"; }, "\x4d\171\x20\143\165\x73\x74\x6f\155\40\145\x72\x72\157\162"); goto D2sn3; nVvLP: $this->assertTrue(count($mncio) === 1); goto yU94p; D2sn3: $mncio = $this->gump->validate(["\164\x65\x73\164" => "\156\x6f\164\117\x6b"], ["\164\x65\163\164" => "\143\x75\x73\164\157\155\x33\174\x6e\165\x6d\x65\x72\151\143"]); goto nVvLP; yU94p: } public function testIntegratedValidatorWithCustomValidatorReturnsOneErrorOnTwoFailures() { goto qGUui; hrg6h: $this->assertTrue(count($mncio) === 1); goto TAlQ3; qGUui: GUMP::add_validator("\143\x75\x73\x74\157\x6d\64", function ($XrxK4, $NGWVv, array $QTxIX = []) { return $NGWVv[$XrxK4] === "\x6f\x6b"; }, "\x4d\x79\40\143\165\163\164\x6f\x6d\x20\145\162\x72\157\162"); goto JPf_0; JPf_0: $mncio = $this->gump->validate(["\164\x65\163\x74" => "\x6e\157\164\x4f\153"], ["\164\x65\163\x74" => "\x6e\165\155\x65\162\x69\143\x7c\143\x75\163\x74\157\155\x34"]); goto hrg6h; TAlQ3: } public function testCustomValidatorWithCustomValidatorReturnsOneErrorOnTwoFailures() { goto oy_ft; If6Ke: $mncio = $this->gump->validate(["\164\145\x73\164" => "\156\x6f\164\117\153"], ["\164\x65\163\x74" => "\143\165\163\164\x6f\x6d\x35\x7c\x63\x75\163\164\x6f\155\65"]); goto AN8RQ; oy_ft: GUMP::add_validator("\x63\165\x73\164\157\x6d\65", function ($XrxK4, $NGWVv, array $QTxIX = []) { return $NGWVv[$XrxK4] === "\x6f\153"; }, "\115\x79\40\143\x75\163\x74\157\155\40\145\162\x72\157\x72"); goto If6Ke; AN8RQ: $this->assertTrue(count($mncio) === 1); goto zt0rB; zt0rB: } public function testIntegratedValidatorWithCustomValidatorBothFailingOnDifferentFields() { goto gGTO3; gGTO3: GUMP::add_validator("\143\x75\x73\x74\x6f\155", function ($XrxK4, $NGWVv, array $QTxIX = []) { return $NGWVv[$XrxK4] === "\x6f\153"; }, "\x4d\x79\x20\x63\x75\163\164\157\x6d\x20\145\x72\162\157\162"); goto VcX1D; uXCvw: $this->assertTrue(count($mncio) === 2); goto SY4cy; VcX1D: $mncio = $this->gump->validate(["\151\156\x74\145\147\x72\x61\x74\145\144" => "\164\145\170\164", "\x63\x75\x73\x74\x6f\155" => "\156\157\164\117\153"], ["\151\156\164\x65\x67\162\141\164\145\x64" => "\x6e\165\x6d\145\x72\x69\x63", "\x63\x75\x73\x74\x6f\x6d" => "\x63\x75\163\164\x6f\x6d"]); goto uXCvw; SY4cy: } public function testIntegratedValidatorWithCustomValidatorFailingIntegratedOnDifferentFields() { goto yssFN; YpnBI: $this->assertTrue(count($mncio) === 1); goto EBwaw; WFWBL: $mncio = $this->gump->validate(["\x69\x6e\164\x65\147\162\141\164\x65\144" => "\x74\x65\x78\164", "\x63\x75\x73\164\x6f\x6d" => "\157\153"], ["\x69\156\164\x65\147\162\141\x74\145\144" => "\x6e\x75\x6d\x65\x72\151\143", "\143\165\x73\x74\157\155" => "\x63\x75\x73\x74\157\155"]); goto YpnBI; yssFN: GUMP::add_validator("\x63\165\x73\164\x6f\155", function ($XrxK4, $NGWVv, array $QTxIX = []) { return $NGWVv[$XrxK4] === "\x6f\153"; }, "\115\x79\40\x63\165\x73\x74\157\x6d\x20\145\162\162\x6f\162"); goto WFWBL; EBwaw: } public function testIntegratedValidatorWithCustomValidatorFailingCustomOnDifferentFields() { goto IL1v7; DMoHL: $mncio = $this->gump->validate(["\151\x6e\x74\145\x67\x72\x61\164\x65\144" => "\61\62\63", "\x63\x75\163\164\157\155" => "\156\x6f\x74\x4f\x6b"], ["\151\x6e\164\x65\147\162\x61\x74\145\144" => "\x6e\165\x6d\145\162\x69\143", "\143\x75\x73\x74\x6f\x6d" => "\x63\x75\x73\x74\157\155"]); goto jaoPE; jaoPE: $this->assertTrue(count($mncio) === 1); goto nD1fy; IL1v7: GUMP::add_validator("\x63\x75\163\164\x6f\x6d", function ($XrxK4, $NGWVv, array $QTxIX = []) { return $NGWVv[$XrxK4] === "\x6f\153"; }, "\x4d\171\40\x63\x75\x73\x74\x6f\x6d\x20\145\x72\162\157\162"); goto DMoHL; nD1fy: } public function testValidateThrowsExceptionOnNonexistentValidator() { goto cWo8o; Oag8f: $this->expectExceptionMessage("\47\x63\x75\163\x74\x6f\x6d\47\x20\x76\141\x6c\x69\x64\x61\x74\157\162\40\x64\157\x65\x73\x20\156\x6f\x74\x20\145\x78\x69\x73\x74\x2e"); goto dse2R; dse2R: $mncio = $this->gump->validate(["\164\x65\x73\x74" => "\156\x6f\x74\117\153"], ["\x74\x65\163\x74" => "\143\165\163\x74\x6f\x6d"]); goto t5Ida; cWo8o: $this->expectException(Exception::class); goto Oag8f; t5Ida: } public function testValidatePassesParametersToIntegratedValidators() { goto u1LkH; w5K0B: $mncio = $fHAnW->validate(["\x74\x65\163\x74" => "\160\141\x72\141\x6d\x65\x74\x65\162\x56\141\x6c\165\145"], ["\164\145\163\164" => "\x69\x6e\164\x65\x67\x72\x61\164\x65\x64\x2c\160\x61\x72\141\x6d\x65\164\145\162\x56\x61\x6c\x75\x65"]); goto wBmG1; wBmG1: $this->assertTrue($mncio); goto DGZFN; u1LkH: $fHAnW = new class extends GUMP { protected function validate_integrated($XrxK4, $NGWVv, array $QTxIX = []) { return $NGWVv[$XrxK4] === $QTxIX[0]; } }; goto w5K0B; DGZFN: } public function testCustomValidatorsReceiveRightInput() { goto ZSc1K; jzvLy: $mncio = $this->gump->validate($jJo5k, $t8fx8); goto c05eb; ndsLy: GUMP::add_validator("\143\x75\x73\x74\x6f\x6d", function ($XrxK4, $NGWVv, array $QTxIX = []) use($jJo5k) { goto fJDPn; zWd1O: $this->assertEquals($NGWVv, $jJo5k); goto Eq35D; Eq35D: $this->assertEquals($QTxIX, ["\160\x61\x72\x61\155\145\164\x65\x72\126\141\154\165\x65"]); goto LSYYf; fJDPn: $this->assertEquals($XrxK4, "\x74\x65\x73\x74"); goto zWd1O; LSYYf: return $NGWVv[$XrxK4] == "\146\x61\x69\154"; goto sH0Gf; sH0Gf: }, "\x4d\x79\x20\x63\x75\x73\164\157\x6d\40\145\x72\x72\157\162"); goto jzvLy; ZSc1K: $jJo5k = ["\164\145\x73\164" => "\x66\141\x69\154\x69\156\147"]; goto ed3UZ; ed3UZ: $t8fx8 = ["\164\145\x73\x74" => "\x63\165\x73\x74\x6f\155\54\160\141\x72\141\155\x65\164\145\x72\126\x61\x6c\165\145"]; goto ndsLy; c05eb: } public function testCustomValidatorsReturnRightErrorStructure() { goto jYz4N; jYz4N: GUMP::add_validator("\x63\x75\163\x74\x6f\x6d", function ($XrxK4, $NGWVv, array $QTxIX = []) { return $NGWVv[$XrxK4] == "\x66\141\151\154"; }, "\115\171\x20\143\x75\x73\x74\x6f\155\40\x65\162\x72\x6f\162"); goto lZ45h; jxxTE: $this->assertEquals([["\x66\151\x65\154\144" => "\164\145\163\164", "\x76\141\154\165\x65" => "\146\141\x69\154\x69\156\147", "\162\x75\154\145" => "\143\165\x73\164\157\x6d", "\x70\x61\x72\x61\x6d\163" => ["\160\x61\x72\x61\x6d\x65\x74\145\162\x56\141\154\165\x65"]]], $mncio); goto CYE4o; lZ45h: $mncio = $this->gump->validate(["\x74\x65\x73\164" => "\x66\x61\151\x6c\151\x6e\147"], ["\164\145\163\164" => "\143\x75\163\x74\x6f\x6d\54\160\x61\162\141\155\x65\x74\x65\162\x56\141\154\x75\x65"]); goto jxxTE; CYE4o: } public function testIntegratedValidatorsReturnRightErrorStructure() { $mncio = $this->gump->validate(["\x74\145\163\x74" => "\61\x32\x33"], ["\x74\x65\x73\x74" => "\144\x61\x74\x65\54\x59\55\155\x2d\x64"]); $this->assertEquals([["\146\x69\x65\154\x64" => "\164\145\163\164", "\x76\x61\x6c\x75\x65" => "\61\62\x33", "\x72\x75\x6c\x65" => "\x64\141\x74\x65", "\x70\141\x72\x61\155\163" => ["\131\x2d\x6d\x2d\x64"]]], $mncio); } public function testRequiredValidatorReturnsRightErrorStructure() { $mncio = $this->gump->validate(["\164\145\163\164" => ''], ["\x74\145\163\x74" => "\162\145\161\x75\151\x72\x65\x64"]); $this->assertEquals($mncio, [["\x66\151\x65\154\x64" => "\x74\145\x73\x74", "\166\141\154\165\x65" => '', "\x72\x75\154\x65" => "\162\145\x71\165\151\x72\145\144", "\x70\141\x72\x61\155\163" => []]]); } public function testRequiredAndRequiredFile() { $mncio = $this->gump->validate(["\146\x69\x65\x6c\x64\137\x77\x69\x74\150\x6f\165\x74\x5f\166\x61\x6c\151\x64\x61\164\151\x6f\x6e\137\x72\x75\x6c\x65\x73" => "\x31\x32\63"], ["\x73\157\155\x65\137\146\151\145\154\144" => "\162\145\x71\x75\151\162\x65\x64", "\x66\151\x6c\145\137\146\151\145\x6c\144" => "\162\x65\x71\x75\151\x72\x65\x64\x5f\146\x69\x6c\x65"]); $this->assertEquals($mncio, [["\x66\x69\x65\x6c\144" => "\163\157\x6d\145\x5f\146\x69\145\154\x64", "\x76\x61\154\165\x65" => null, "\162\165\x6c\145" => "\162\x65\x71\165\151\162\145\x64", "\x70\x61\162\141\x6d\163" => []], ["\146\x69\x65\154\x64" => "\146\x69\x6c\x65\x5f\146\x69\145\154\144", "\166\x61\154\x75\145" => null, "\162\165\154\145" => "\x72\145\x71\x75\151\162\x65\144\137\x66\151\x6c\145", "\x70\141\x72\141\x6d\x73" => []]]); } public function testOnlyFirstErrorOfTheSameFieldIsReturnedAsError() { goto KkYmp; LRf3P: $mncio = $this->gump->validate(["\163\157\155\x65\x5f\x66\x69\145\154\x64" => "\x31\62\x33"], ["\x73\x6f\155\145\137\146\151\145\x6c\144" => "\141\154\160\150\x61\x7c\155\141\170\137\x6c\x65\x6e\54\x32"]); goto IHBVI; KkYmp: $this->helpersMock->shouldReceive("\x66\x75\x6e\x63\x74\x69\157\156\x45\170\x69\x73\x74\163")->once()->with("\155\142\x5f\x73\164\162\x6c\145\156")->andReturnTrue(); goto LRf3P; IHBVI: $this->assertEquals([["\x66\151\145\x6c\144" => "\163\x6f\155\x65\x5f\x66\x69\145\154\144", "\166\141\x6c\165\x65" => "\61\62\x33", "\x72\x75\154\x65" => "\x61\x6c\x70\x68\141", "\x70\141\x72\141\155\163" => []]], $mncio); goto vh___; vh___: } public function testRulesArrayFormatWithOneParameter() { $mncio = $this->gump->validate(["\163\x6f\155\145\x5f\146\151\145\154\x64" => "\x74\145\163\x74", "\163\x6f\155\x65\137\x6f\x74\150\145\x72\x5f\x66\151\145\x6c\x64" => "\61\62\63"], ["\x73\x6f\155\145\x5f\146\151\145\154\144" => ["\162\145\161\165\151\x72\145\144", "\141\154\x70\x68\x61", "\x6d\141\170\137\154\x65\156" => 2], "\163\157\x6d\145\x5f\157\164\x68\145\162\x5f\146\x69\x65\x6c\x64" => "\x61\x6c\x70\x68\x61"]); $this->assertEquals([["\x66\151\x65\x6c\x64" => "\x73\x6f\155\x65\137\x66\x69\x65\x6c\144", "\x76\x61\x6c\x75\145" => "\164\145\163\x74", "\x72\x75\x6c\145" => "\x6d\x61\170\137\x6c\x65\x6e", "\160\141\162\141\155\x73" => [2]], ["\146\151\x65\154\x64" => "\163\157\155\x65\x5f\157\164\150\145\x72\x5f\x66\151\145\154\x64", "\166\141\x6c\165\x65" => "\x31\62\63", "\x72\x75\x6c\x65" => "\x61\154\160\x68\x61", "\x70\141\x72\x61\155\163" => []]], $mncio); } public function testRulesArrayFormatIgnoresNonRequiredFields() { $mncio = $this->gump->validate(["\163\157\155\x65\137\157\164\x68\x65\162\x5f\146\x69\x65\154\144" => null], ["\x73\x6f\155\x65\x5f\x66\x69\x65\x6c\x64" => ["\x62\157\157\x6c\x65\x61\x6e", "\155\x69\x6e\x5f\x6c\145\156" => 2], "\x73\x6f\x6d\145\137\157\x74\x68\x65\162\x5f\146\x69\x65\x6c\144" => ["\151\156\x74\145\147\x65\x72", "\155\151\156\x5f\x6c\x65\156" => 2]]); $this->assertTrue($mncio); } public function testRulesArrayFormatChecksRequiredFields() { $mncio = $this->gump->validate([], ["\x73\157\155\x65\137\146\x69\x65\154\x64" => ["\162\x65\x71\x75\x69\x72\x65\x64", "\142\157\x6f\x6c\145\x61\x6e", "\x6d\151\x6e\137\x6c\145\156" => 2], "\163\x6f\155\x65\137\x6f\x74\150\145\x72\x5f\146\x69\145\154\144" => ["\162\x65\x71\x75\x69\162\x65\x64", "\151\156\x74\x65\147\145\162", "\155\151\156\x5f\x6c\145\156" => 2]]); $this->assertEquals($mncio, [["\146\151\x65\154\x64" => "\163\x6f\155\145\x5f\x66\151\x65\154\x64", "\166\141\154\165\x65" => null, "\162\x75\x6c\x65" => "\162\x65\161\x75\151\162\x65\x64", "\x70\x61\x72\141\155\x73" => []], ["\146\x69\145\x6c\x64" => "\163\x6f\155\x65\137\x6f\164\x68\145\x72\x5f\146\x69\x65\x6c\x64", "\x76\x61\x6c\x75\x65" => null, "\x72\x75\154\145" => "\162\x65\161\x75\151\162\x65\144", "\x70\141\162\x61\x6d\x73" => []]]); } public function testRulesArrayFormatWithSimpleArrayParameters() { $mncio = $this->gump->validate(["\163\157\155\145\137\146\x69\x65\154\144" => "\164\145\x73\164\163"], ["\x73\157\x6d\145\137\x66\x69\145\154\144" => ["\162\x65\161\165\151\x72\x65\x64", "\141\154\160\x68\141", "\x62\145\164\167\x65\x65\156\137\154\x65\156" => [2, 4]]]); $this->assertEquals([["\146\x69\145\x6c\144" => "\163\x6f\x6d\145\x5f\x66\151\x65\154\144", "\x76\x61\x6c\x75\x65" => "\x74\x65\x73\x74\163", "\x72\x75\154\x65" => "\x62\145\x74\x77\145\145\x6e\x5f\154\x65\156", "\x70\x61\162\x61\x6d\x73" => [2, 4]]], $mncio); } public function testRulesWithSemicolonSeparatorMapsToArrayInsideValidator() { $mncio = $this->gump->validate(["\x73\x6f\x6d\145\x5f\x66\151\x65\154\144" => "\x74\145\163\164\163"], ["\163\x6f\x6d\x65\x5f\x66\151\145\154\x64" => "\x61\154\160\x68\x61\x7c\142\145\x74\x77\x65\145\156\137\x6c\145\x6e\54\x32\73\64"]); $this->assertEquals([["\146\151\x65\x6c\x64" => "\x73\157\x6d\145\137\x66\x69\145\154\x64", "\166\x61\x6c\165\x65" => "\x74\145\163\x74\x73", "\162\165\x6c\x65" => "\142\x65\x74\167\145\x65\x6e\137\154\x65\156", "\x70\141\162\141\155\x73" => [2, 4]]], $mncio); } public function testRulesArrayFormatWithMultidimensionalArrayParameters() { goto DfSTt; cID5l: $this->assertTrue($mncio); goto GUVN1; DfSTt: GUMP::add_validator("\143\165\163\x74\x6f\x6d", function ($XrxK4, $NGWVv, array $zoRSp) { return $zoRSp["\x6d\x69\x6e"] === 2 && $zoRSp["\155\141\170"] === 5; }, "\x4d\171\x20\x63\x75\163\x74\157\155\40\145\x72\162\x6f\162"); goto o1fLl; o1fLl: $mncio = $this->gump->validate(["\163\x6f\x6d\x65\x5f\x66\x69\x65\x6c\x64" => "\x74\145\163\164\x73"], ["\163\x6f\155\145\x5f\x66\x69\145\x6c\x64" => ["\162\x65\x71\x75\151\162\x65\144", "\141\154\160\150\141", "\143\165\x73\x74\157\155" => ["\x6d\151\156" => 2, "\155\x61\x78" => 5]]]); goto cID5l; GUVN1: } }
