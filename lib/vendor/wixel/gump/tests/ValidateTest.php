<?php
/*   __________________________________________________
    |  ##CreativeSol Management Information System##   |
    |__________________________________________________|
*/
 namespace us2xW; use zM6fH; use Exception; class ValidateTest extends BaseTestCase { public function testConfigParameters() { goto eikPQ; UC7xx: $this->assertTrue($AyT6U); goto zkKPs; QaJBF: $wku40 = GUMP::$rules_parameters_delimiter; goto IxMuZ; eikPQ: $Dwgak = GUMP::$rules_delimiter; goto QaJBF; zkKPs: GUMP::$rules_delimiter = $Dwgak; goto IZn3F; rX9oc: GUMP::$rules_delimiter = "\x3b"; goto QVZSK; WPGQU: GUMP::$rules_parameters_arrays_delimiter = $Z08b5; goto V4Mkl; IZn3F: GUMP::$rules_parameters_delimiter = $wku40; goto WPGQU; IaMVO: GUMP::$rules_parameters_arrays_delimiter = "\54"; goto S5L3a; QVZSK: GUMP::$rules_parameters_delimiter = "\x3a"; goto IaMVO; S5L3a: $AyT6U = $this->gump->validate(["\163\x6f\155\x65\137\146\x69\x65\x6c\x64" => "\x6e\157"], ["\163\x6f\155\x65\137\x66\x69\145\154\144" => "\x61\154\x70\150\141\x3b\x63\157\156\164\x61\x69\156\x73\x5f\x6c\x69\163\x74\72\x79\x65\163\x2c\x6e\157"]); goto UC7xx; IxMuZ: $Z08b5 = GUMP::$rules_parameters_arrays_delimiter; goto rX9oc; V4Mkl: } public function testIntegratedValidatorReturnsOneErrorOnOneFailure() { $AyT6U = $this->gump->validate(["\164\145\163\164" => "\164\145\170\x74"], ["\164\x65\163\164" => "\156\165\x6d\145\162\x69\143"]); $this->assertTrue(count($AyT6U) === 1); } public function testCustomValidatorReturnsOneErrorOnOneFailure() { goto QWPEZ; K001y: $AyT6U = $this->gump->validate(["\164\145\163\164" => "\156\x6f\164\117\153"], ["\x74\145\x73\x74" => "\143\165\x73\x74\x6f\x6d\62"]); goto nbj0s; QWPEZ: GUMP::add_validator("\143\165\x73\164\157\155\62", function ($wZCta, $ZAc7f, array $kIQbn = []) { return $ZAc7f[$wZCta] === "\x6f\153"; }, "\x4d\x79\40\143\x75\163\x74\x6f\155\x20\x65\162\x72\x6f\x72"); goto K001y; nbj0s: $this->assertTrue(count($AyT6U) === 1); goto ZIMk2; ZIMk2: } public function testIntegratedValidatorWithIntegratedValidatorReturnsOneErrorOnTwoFailures() { $AyT6U = $this->gump->validate(["\x74\145\x73\x74" => "\x74\x65\170\x74"], ["\x74\145\x73\164" => "\156\165\155\x65\x72\x69\143\174\156\x75\x6d\145\162\x69\x63"]); $this->assertTrue(count($AyT6U) === 1); } public function testCustomValidatorWithIntegratedValidatorReturnsOneErrorOnTwoFailures() { goto uJ5mq; c5m79: $this->assertTrue(count($AyT6U) === 1); goto naItc; Wruuo: $AyT6U = $this->gump->validate(["\164\x65\x73\164" => "\x6e\157\x74\117\x6b"], ["\x74\145\163\x74" => "\143\x75\x73\164\x6f\x6d\63\x7c\x6e\x75\155\x65\x72\151\143"]); goto c5m79; uJ5mq: GUMP::add_validator("\x63\x75\163\164\x6f\155\63", function ($wZCta, $ZAc7f, array $kIQbn = []) { return $ZAc7f[$wZCta] === "\157\x6b"; }, "\x4d\171\x20\143\x75\163\164\157\155\40\x65\x72\x72\x6f\x72"); goto Wruuo; naItc: } public function testIntegratedValidatorWithCustomValidatorReturnsOneErrorOnTwoFailures() { goto KizlN; KizlN: GUMP::add_validator("\x63\165\163\164\157\x6d\x34", function ($wZCta, $ZAc7f, array $kIQbn = []) { return $ZAc7f[$wZCta] === "\157\153"; }, "\x4d\x79\x20\x63\165\x73\164\x6f\155\x20\145\162\162\x6f\x72"); goto KdW1w; Jxr0d: $this->assertTrue(count($AyT6U) === 1); goto deuw3; KdW1w: $AyT6U = $this->gump->validate(["\x74\145\x73\x74" => "\156\x6f\x74\117\x6b"], ["\x74\145\x73\x74" => "\x6e\x75\155\145\x72\151\x63\x7c\143\x75\163\x74\157\155\64"]); goto Jxr0d; deuw3: } public function testCustomValidatorWithCustomValidatorReturnsOneErrorOnTwoFailures() { goto DiXBz; sRhcd: $this->assertTrue(count($AyT6U) === 1); goto ozKG2; DiXBz: GUMP::add_validator("\x63\x75\163\x74\157\155\65", function ($wZCta, $ZAc7f, array $kIQbn = []) { return $ZAc7f[$wZCta] === "\x6f\153"; }, "\115\x79\x20\x63\165\163\x74\x6f\x6d\x20\145\x72\x72\x6f\x72"); goto HkXiH; HkXiH: $AyT6U = $this->gump->validate(["\x74\145\163\x74" => "\156\157\x74\x4f\153"], ["\x74\x65\163\164" => "\143\165\163\164\157\x6d\x35\x7c\143\x75\163\164\x6f\155\65"]); goto sRhcd; ozKG2: } public function testIntegratedValidatorWithCustomValidatorBothFailingOnDifferentFields() { goto H7bxx; I4qtd: $AyT6U = $this->gump->validate(["\151\156\164\x65\147\162\x61\x74\x65\144" => "\164\145\x78\x74", "\143\165\163\164\157\155" => "\x6e\157\164\x4f\x6b"], ["\x69\x6e\164\145\147\162\141\x74\x65\x64" => "\x6e\165\x6d\145\162\151\x63", "\143\165\x73\x74\157\155" => "\143\165\163\164\x6f\x6d"]); goto xYJQD; xYJQD: $this->assertTrue(count($AyT6U) === 2); goto UgTnc; H7bxx: GUMP::add_validator("\143\x75\x73\x74\157\x6d", function ($wZCta, $ZAc7f, array $kIQbn = []) { return $ZAc7f[$wZCta] === "\x6f\x6b"; }, "\115\x79\40\x63\x75\163\164\x6f\x6d\x20\x65\162\162\157\x72"); goto I4qtd; UgTnc: } public function testIntegratedValidatorWithCustomValidatorFailingIntegratedOnDifferentFields() { goto Joy4V; Joy4V: GUMP::add_validator("\x63\165\163\164\x6f\155", function ($wZCta, $ZAc7f, array $kIQbn = []) { return $ZAc7f[$wZCta] === "\157\153"; }, "\115\171\40\143\x75\x73\164\x6f\155\x20\145\162\x72\x6f\162"); goto a6nLf; aXLN1: $this->assertTrue(count($AyT6U) === 1); goto Lagxm; a6nLf: $AyT6U = $this->gump->validate(["\151\x6e\x74\x65\x67\x72\141\x74\145\x64" => "\x74\x65\170\x74", "\x63\165\163\164\x6f\x6d" => "\157\x6b"], ["\x69\156\164\x65\x67\x72\141\164\145\x64" => "\156\165\x6d\145\162\x69\x63", "\143\x75\163\x74\157\155" => "\x63\x75\x73\x74\x6f\x6d"]); goto aXLN1; Lagxm: } public function testIntegratedValidatorWithCustomValidatorFailingCustomOnDifferentFields() { goto q4e3C; L739J: $this->assertTrue(count($AyT6U) === 1); goto U47g3; q4e3C: GUMP::add_validator("\143\165\x73\164\157\155", function ($wZCta, $ZAc7f, array $kIQbn = []) { return $ZAc7f[$wZCta] === "\x6f\153"; }, "\115\171\40\143\x75\163\x74\x6f\155\x20\145\x72\x72\x6f\162"); goto DI6yD; DI6yD: $AyT6U = $this->gump->validate(["\151\156\164\145\x67\x72\141\x74\145\x64" => "\x31\x32\63", "\143\x75\163\x74\x6f\x6d" => "\x6e\157\x74\x4f\x6b"], ["\151\156\164\145\147\162\141\164\x65\144" => "\x6e\165\155\145\162\x69\x63", "\143\165\x73\x74\157\155" => "\x63\x75\163\164\x6f\155"]); goto L739J; U47g3: } public function testValidateThrowsExceptionOnNonexistentValidator() { goto qYCqI; PxSgj: $this->expectExceptionMessage("\47\x63\165\163\164\157\x6d\47\40\166\x61\154\151\144\141\164\157\x72\x20\x64\157\x65\163\x20\x6e\x6f\x74\40\x65\170\x69\x73\164\x2e"); goto AGXwy; AGXwy: $AyT6U = $this->gump->validate(["\164\x65\x73\x74" => "\x6e\157\164\x4f\x6b"], ["\164\x65\163\x74" => "\143\165\163\x74\x6f\x6d"]); goto MaJxA; qYCqI: $this->expectException(Exception::class); goto PxSgj; MaJxA: } public function testValidatePassesParametersToIntegratedValidators() { goto rh4lL; rh4lL: $W7wvI = new class extends GUMP { protected function validate_integrated($wZCta, $ZAc7f, array $kIQbn = []) { return $ZAc7f[$wZCta] === $kIQbn[0]; } }; goto Ke0ex; ZrXzQ: $this->assertTrue($AyT6U); goto V4Oe_; Ke0ex: $AyT6U = $W7wvI->validate(["\164\145\163\164" => "\x70\x61\162\141\x6d\145\164\x65\x72\x56\x61\x6c\x75\145"], ["\x74\x65\x73\164" => "\151\x6e\x74\x65\x67\162\x61\164\145\x64\54\160\x61\162\141\155\145\164\145\x72\x56\141\x6c\165\145"]); goto ZrXzQ; V4Oe_: } public function testCustomValidatorsReceiveRightInput() { goto N4i5c; kgF_P: GUMP::add_validator("\143\x75\163\164\157\x6d", function ($wZCta, $ZAc7f, array $kIQbn = []) use($TmhH8) { goto YASyv; zc8lG: $this->assertEquals($ZAc7f, $TmhH8); goto nhOlu; RMtHU: return $ZAc7f[$wZCta] == "\x66\x61\151\154"; goto wN2JM; nhOlu: $this->assertEquals($kIQbn, ["\160\x61\x72\141\x6d\x65\x74\x65\x72\126\141\x6c\x75\145"]); goto RMtHU; YASyv: $this->assertEquals($wZCta, "\164\145\x73\x74"); goto zc8lG; wN2JM: }, "\115\x79\40\x63\x75\x73\x74\x6f\x6d\40\145\x72\162\x6f\162"); goto iFAKs; Elbez: $CAz83 = ["\x74\145\163\164" => "\x63\x75\163\x74\157\155\x2c\160\141\x72\x61\155\x65\x74\x65\162\x56\141\154\165\x65"]; goto kgF_P; N4i5c: $TmhH8 = ["\164\x65\x73\164" => "\x66\x61\151\x6c\151\x6e\147"]; goto Elbez; iFAKs: $AyT6U = $this->gump->validate($TmhH8, $CAz83); goto aDKSQ; aDKSQ: } public function testCustomValidatorsReturnRightErrorStructure() { goto o_xLq; i1O2b: $AyT6U = $this->gump->validate(["\x74\x65\x73\164" => "\x66\x61\x69\x6c\151\x6e\147"], ["\164\145\163\164" => "\x63\165\163\x74\157\155\54\x70\141\162\x61\x6d\x65\164\145\162\126\141\x6c\165\145"]); goto vYDQj; vYDQj: $this->assertEquals([["\146\151\x65\154\x64" => "\164\x65\163\x74", "\166\x61\x6c\x75\145" => "\146\141\x69\154\x69\x6e\x67", "\162\165\154\145" => "\143\165\x73\164\157\x6d", "\160\x61\x72\141\x6d\x73" => ["\160\x61\x72\141\x6d\145\164\x65\162\126\141\x6c\165\x65"]]], $AyT6U); goto dr5vC; o_xLq: GUMP::add_validator("\143\x75\x73\x74\157\155", function ($wZCta, $ZAc7f, array $kIQbn = []) { return $ZAc7f[$wZCta] == "\x66\141\x69\154"; }, "\x4d\x79\40\143\x75\163\164\x6f\155\x20\x65\162\162\x6f\162"); goto i1O2b; dr5vC: } public function testIntegratedValidatorsReturnRightErrorStructure() { $AyT6U = $this->gump->validate(["\x74\145\163\x74" => "\61\x32\x33"], ["\164\x65\163\164" => "\144\141\x74\x65\x2c\x59\55\155\x2d\x64"]); $this->assertEquals([["\146\x69\145\x6c\x64" => "\164\x65\x73\x74", "\x76\141\154\165\145" => "\x31\x32\63", "\x72\x75\154\145" => "\144\141\164\145", "\160\141\162\141\155\163" => ["\x59\x2d\155\x2d\x64"]]], $AyT6U); } public function testRequiredValidatorReturnsRightErrorStructure() { $AyT6U = $this->gump->validate(["\x74\145\x73\x74" => ''], ["\164\x65\163\164" => "\162\x65\161\165\x69\162\145\x64"]); $this->assertEquals($AyT6U, [["\x66\151\145\154\x64" => "\x74\145\x73\164", "\166\x61\154\165\145" => '', "\x72\x75\x6c\x65" => "\x72\145\161\x75\151\162\x65\144", "\x70\141\162\x61\x6d\163" => []]]); } public function testRequiredAndRequiredFile() { $AyT6U = $this->gump->validate(["\x66\x69\145\154\x64\x5f\167\x69\164\x68\157\x75\x74\x5f\x76\141\x6c\151\144\141\164\x69\x6f\156\x5f\x72\x75\x6c\145\163" => "\61\x32\63"], ["\163\157\x6d\x65\x5f\x66\151\x65\x6c\144" => "\x72\x65\x71\165\x69\x72\145\x64", "\x66\151\154\145\x5f\x66\151\145\154\144" => "\162\145\x71\x75\151\162\145\144\137\x66\x69\154\x65"]); $this->assertEquals($AyT6U, [["\x66\151\145\x6c\144" => "\163\x6f\155\145\137\146\151\x65\154\144", "\166\141\154\x75\x65" => null, "\162\165\x6c\x65" => "\162\145\161\165\151\x72\x65\x64", "\160\x61\162\x61\155\x73" => []], ["\x66\x69\145\154\x64" => "\x66\151\x6c\145\137\146\151\145\154\x64", "\x76\x61\154\165\x65" => null, "\x72\x75\154\145" => "\162\145\161\x75\x69\162\145\x64\x5f\146\151\x6c\145", "\160\141\162\141\x6d\163" => []]]); } public function testOnlyFirstErrorOfTheSameFieldIsReturnedAsError() { goto ZZkBG; anUMu: $this->assertEquals([["\146\x69\x65\154\144" => "\163\157\x6d\145\137\x66\151\x65\154\144", "\x76\x61\154\x75\145" => "\x31\x32\63", "\x72\165\154\x65" => "\141\154\x70\150\141", "\x70\x61\162\141\x6d\163" => []]], $AyT6U); goto aoNRL; KE5XS: $AyT6U = $this->gump->validate(["\x73\157\155\x65\x5f\x66\x69\145\154\x64" => "\61\x32\x33"], ["\x73\x6f\x6d\x65\x5f\146\151\145\x6c\x64" => "\x61\x6c\x70\150\141\174\155\x61\170\137\154\145\156\x2c\x32"]); goto anUMu; ZZkBG: $this->helpersMock->shouldReceive("\x66\x75\156\143\164\151\x6f\156\x45\x78\151\x73\x74\163")->once()->with("\155\x62\137\163\x74\x72\x6c\x65\x6e")->andReturnTrue(); goto KE5XS; aoNRL: } public function testRulesArrayFormatWithOneParameter() { $AyT6U = $this->gump->validate(["\x73\157\155\x65\137\146\151\x65\x6c\144" => "\164\145\163\164", "\x73\157\x6d\x65\x5f\157\164\x68\x65\x72\137\146\151\x65\154\x64" => "\61\62\x33"], ["\163\157\x6d\x65\x5f\146\151\x65\x6c\144" => ["\x72\x65\161\x75\151\162\145\144", "\141\154\160\x68\x61", "\x6d\141\x78\137\x6c\x65\156" => 2], "\163\157\x6d\x65\137\157\x74\150\145\x72\x5f\x66\151\145\154\144" => "\141\x6c\x70\x68\x61"]); $this->assertEquals([["\146\x69\145\x6c\x64" => "\163\157\x6d\x65\x5f\x66\x69\145\154\144", "\166\141\x6c\165\x65" => "\x74\145\163\164", "\x72\x75\154\145" => "\x6d\141\x78\137\154\x65\x6e", "\x70\x61\162\x61\155\x73" => [2]], ["\146\151\x65\x6c\x64" => "\163\157\x6d\x65\x5f\x6f\164\x68\145\x72\137\146\151\x65\154\144", "\166\141\154\x75\145" => "\x31\62\x33", "\x72\165\154\145" => "\141\x6c\160\150\141", "\160\141\162\141\x6d\163" => []]], $AyT6U); } public function testRulesArrayFormatIgnoresNonRequiredFields() { $AyT6U = $this->gump->validate(["\163\157\x6d\x65\137\157\x74\150\145\x72\x5f\x66\x69\145\x6c\x64" => null], ["\x73\157\155\145\137\x66\x69\x65\154\x64" => ["\x62\x6f\x6f\154\x65\141\156", "\155\151\x6e\137\x6c\145\x6e" => 2], "\163\x6f\155\145\x5f\157\164\150\x65\x72\x5f\146\x69\x65\154\144" => ["\x69\x6e\164\145\x67\145\162", "\x6d\x69\x6e\137\x6c\145\156" => 2]]); $this->assertTrue($AyT6U); } public function testRulesArrayFormatChecksRequiredFields() { $AyT6U = $this->gump->validate([], ["\163\157\155\145\137\x66\151\145\154\x64" => ["\162\145\x71\165\x69\162\145\x64", "\x62\x6f\x6f\x6c\145\x61\x6e", "\x6d\x69\x6e\x5f\154\x65\156" => 2], "\x73\x6f\155\x65\x5f\x6f\164\150\x65\x72\137\146\151\145\x6c\x64" => ["\x72\x65\x71\x75\151\x72\145\144", "\151\156\164\x65\x67\145\x72", "\x6d\151\x6e\137\154\145\156" => 2]]); $this->assertEquals($AyT6U, [["\x66\x69\x65\154\144" => "\x73\157\155\x65\x5f\146\x69\145\x6c\144", "\166\141\x6c\x75\x65" => null, "\x72\x75\154\145" => "\x72\x65\161\165\x69\162\145\x64", "\x70\x61\x72\x61\155\x73" => []], ["\146\x69\145\154\x64" => "\x73\157\x6d\145\137\x6f\x74\x68\145\162\x5f\146\151\x65\154\x64", "\x76\x61\154\165\145" => null, "\162\165\154\x65" => "\162\145\x71\x75\x69\162\x65\144", "\x70\141\162\141\x6d\163" => []]]); } public function testRulesArrayFormatWithSimpleArrayParameters() { $AyT6U = $this->gump->validate(["\163\157\155\145\137\x66\151\145\154\144" => "\x74\145\x73\x74\163"], ["\x73\157\x6d\x65\x5f\146\151\x65\154\144" => ["\x72\145\161\165\x69\x72\x65\144", "\x61\x6c\x70\x68\141", "\x62\145\x74\x77\x65\x65\x6e\x5f\x6c\x65\156" => [2, 4]]]); $this->assertEquals([["\146\151\145\x6c\x64" => "\163\x6f\x6d\x65\137\x66\151\x65\x6c\144", "\166\141\x6c\165\x65" => "\x74\x65\163\164\163", "\x72\x75\x6c\x65" => "\142\145\x74\167\145\x65\156\x5f\x6c\x65\156", "\x70\141\x72\x61\155\x73" => [2, 4]]], $AyT6U); } public function testRulesWithSemicolonSeparatorMapsToArrayInsideValidator() { $AyT6U = $this->gump->validate(["\163\157\155\145\x5f\146\x69\145\x6c\x64" => "\x74\x65\x73\x74\x73"], ["\x73\x6f\155\x65\137\x66\151\145\154\144" => "\141\154\x70\x68\x61\x7c\142\x65\x74\x77\145\145\156\x5f\154\x65\x6e\x2c\x32\73\64"]); $this->assertEquals([["\x66\151\x65\154\144" => "\x73\x6f\155\145\x5f\146\x69\x65\154\144", "\x76\141\x6c\x75\x65" => "\164\x65\163\164\163", "\162\x75\x6c\x65" => "\142\145\164\x77\145\145\x6e\137\154\x65\x6e", "\160\141\162\141\x6d\x73" => [2, 4]]], $AyT6U); } public function testRulesArrayFormatWithMultidimensionalArrayParameters() { goto q1bH_; q1bH_: GUMP::add_validator("\x63\x75\x73\164\x6f\x6d", function ($wZCta, $ZAc7f, array $aAVW8) { return $aAVW8["\155\x69\156"] === 2 && $aAVW8["\x6d\141\x78"] === 5; }, "\115\x79\x20\143\x75\x73\x74\x6f\x6d\x20\145\x72\162\157\x72"); goto YSX5g; YSX5g: $AyT6U = $this->gump->validate(["\163\157\155\145\137\x66\x69\x65\x6c\x64" => "\164\145\163\x74\163"], ["\x73\157\x6d\145\x5f\x66\151\x65\x6c\144" => ["\162\x65\161\165\151\x72\x65\x64", "\x61\154\160\150\x61", "\143\x75\x73\x74\x6f\155" => ["\x6d\x69\x6e" => 2, "\x6d\141\x78" => 5]]]); goto o1Sar; o1Sar: $this->assertTrue($AyT6U); goto wYSFE; wYSFE: } }
